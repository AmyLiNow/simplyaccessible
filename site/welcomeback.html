<!doctype html>
<html>
<head>
  <title>Welcome Back</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="css/consumerapp.css" rel="stylesheet">
  <script>

function init() {
  activateLanguageSelector();
  focusblurEvents();
  selectLanguage();
}

function activateLanguageSelector () {
  var openclose = document.querySelector('#languageIndicator > a');
  openclose.addEventListener('click', function() {
      opencloseLanguageSelector();
  });
}

function opencloseLanguageSelector () {
    var oc = document.getElementById('languageOpenClose'),
        footer = document.getElementsByTagName('footer')[0];
    oc.classList.toggle('up');
    oc.classList.toggle('down');
    footer.classList.toggle('open');
    footer.classList.toggle('closed');
}

function selectLanguage () {
  var radios = document.querySelectorAll('#languageSelector input'),
      i;

  for (i = 0; i < radios.length; i++) {
    radios[i].addEventListener('click', function (e) {
        // change the country
        var country = e.target.value;
        document.getElementById('languageFlag').setAttribute('class', "lang" + country + " icon");
        // close the country 
        opencloseLanguageSelector();
    })
  }  


}

function focusblurEvents () {
 var actionItems = document.querySelectorAll('.formControl input'),
      i;

  for (i = 0; i < actionItems.length; i++) {
    actionItems[i].addEventListener('blur', function(e){changeClassBlur(e);});
    actionItems[i].addEventListener('focus', function(e){changeClassFocus(e);});
  }
}

function changeClassFocus (e) {
  var id = e.target.id;
  var label = document.querySelector('[for=' + id + ']');

  label.classList.add('focus');
  label.classList.remove('empty');
}

function changeClassBlur (e) {
  var id = e.target.id,
    label = document.querySelector('[for=' + id + ']');

  label.classList.remove('focus');
  if(!e.target.value) {
    label.classList.add('empty');
  }
}
window.onload = function () {init();};
 </script>
</head>

<body class="consumer">
<header>
  <div class="headercontents">
    <a href="#" class="header-logo icon"><span>Visa Checkout</span></a>
    <nav>
      <ul>
        <li>
          <span class="mobilehide">New user?</span>
          <a class="btn cta" href="new.html">Create Account</a>
        </li>
      </ul>
    </nav>
  </div>
</header>

<main>
    <div class="notify-container">
      <span class="notificationAid" tabindex="-1">
      </span>
    </div>

    <div id="login" class="content">

      <h1>Welcome back.</h1>
      <h2>&nbsp;</h2>
      <form novalidate="" action="account.html">

            <div class="formControl">
              <input type="email" id="userName" required  aria-required="true" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" >
              <label for="userName" class="empty">
              Email or Mobile Number</label>
              <button class="icon clear"><span>Clear Email or Mobile Number</span></button>
            </div>

            <div class="formControl">
              <input type="password" autocomplete="off" class="viewInput viewInput--default" maxlength="32" id="password" autocapitalize="none" aria-required="true">
              <label for="password" class="empty">Password</label>
              <a title="Forgot your password link" href="forgot.html">
              Forgot?</a>
            </div>

            <div class="checkbox-wrapper">
              <input id="rememberMe" type="checkbox" checked="" aria-label="Remember me on this device" aria-required="false">
              <label for="rememberMe" class=""><span>Remember me on this device</span></label>
            </div>

          <div class="button-holder">
            <input class="btn cta" type="submit" value="Sign In" name="Sign In">
          </div> 

      </form>
    </div>
</main>

<footer class="closed">
    <i class="lock icon"><span class="visuallyhidden">Secure</span></i>

    <nav>
      <h2>Visa Checkout:</h2>
      <ul>
        <li><a href="tos.html">Terms</a></li>
        <li><a href="privacy.html">Privacy</a></li>
        <li><a href="support.html">Support</a></li>
      </ul>
    </nav>

    <section id="languageIndicator">
      <a href="#">
        <span id="languageText"></span>
        <span id="languageFlag" class="langUS icon"></span>
        <span id="languageOpenClose" class="up icon"></span>
      </a>

      <fieldset id="languageSelector">
        <legend>Select your country:</legend>
        <ul>
          <li>
              <input type="radio" name="langSelect" checked aria-selected="true" id="langAR" value="AR">
              <label for="langAR" class="langAR">Argentina</label>
          </li>
          <li>
            <input type="radio" name="langSelect" id="langAU" value="AU">
              <label for="langAU" class="langAU">Australia</label>
          </li>
          <li>
            <input type="radio" name="langSelect" id="langBR" value="BR">
              <label for="langBR" class="langBR">Brazil</label>
          </li>
          <li>
            <input type="radio" name="langSelect" id="langCA" value="CA">
              <label for="langCA" class="langCA">Canada</label>
          </li>
          <li>
            <input type="radio" name="langSelect" id="langCL" value="CL">
              <label for="langCL" class="langCL">Chile</label>
          </li>
          <li>
            <input type="radio" name="langSelect" id="langCN" value="CN">
              <label for="langCN" class="langCN">China</label>
          </li>
          <li>
            <input type="radio" name="langSelect" id="langCO" value="CO">
              <label for="langCO" class="langCO">Colombia</label>
          </li>
          <li>
            <input type="radio" name="langSelect" id="langHK" value="HK">
              <label for="langHK" class="langHK">Hong Kong</label>
          </li>
          <li>
            <input type="radio" name="langSelect" id="langMY" value="MY">
              <label for="langMY" class="langMY">Malaysia</label>
          </li>
          <li>
            <input type="radio" name="langSelect" id="langMX" value="MX">
              <label for="langMX" class="langMX">Mexico</label>
          </li>
          <li>
            <input type="radio" name="langSelect" id="langNZ" value="NZ">
              <label for="langNZ" class="langNZ">New Zealand</label>
          </li>
          <li>
            <input type="radio" name="langSelect" id="langPE" value="PE">
              <label for="langPE" class="langPE">Peru</label>
          </li>
          <li>
            <input type="radio" name="langSelect" id="langSG" value="SG">
              <label for="langSG" class="langSG">Singapore</label>
          </li>
          <li>
            <input type="radio" name="langSelect" id="langZA" value="ZA">
              <label for="langZA" class="langZA">South Africa</label>
          </li>
          <li>
            <input type="radio" name="langSelect" id="langAE" value="AE">
              <label for="langAE" class="langAE">United Arab Emirates</label>
          </li>
          </ul>
        </fieldset>
      </section>
    <small>
    Visa Checkout may share information about how you use this card in Visa Checkout with the financial institution that issued the card for customer service, usage analysis, fraud prevention and marketing related to Visa Checkout.
    </small>
</footer>
  <div class="view-modal-portal"></div>

</body>
</html>
